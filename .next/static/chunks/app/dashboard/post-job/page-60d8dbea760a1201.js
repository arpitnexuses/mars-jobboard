(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{2458:function(e,t,a){Promise.resolve().then(a.bind(a,7905))},7461:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var r=a(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let a=(0,r.forwardRef)((a,o)=>{let{color:i="currentColor",size:n=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:g,...p}=a;return(0,r.createElement)("svg",{ref:o,...s,width:n,height:n,stroke:i,strokeWidth:c?24*Number(d)/Number(n):d,className:["lucide","lucide-".concat(l(e)),u].join(" "),...p},[...t.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(g)?g:[g]])});return a.displayName="".concat(e),a}},3151:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},559:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},6490:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9475:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7451:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},5561:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},2457:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7461).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7907:function(e,t,a){"use strict";var r=a(5313);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},7905:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var r=a(3827),s=a(4090),l=a(7907),o=a(3151),i=a(559),n=a(7451),d=a(5561),c=a(9475),u=a(6490),g=a(2457);function p(){var e,t,a,p,m,y,x;let h=(0,l.useRouter)(),f=(0,l.useSearchParams)().get("edit"),[b,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)({type:"Full Time",datePosted:new Date,expiryDate:new Date(Date.now()+2592e6),location:{country:"",state:"",city:"",street:"",zipCode:""}});(0,s.useEffect)(()=>{if("true"!==localStorage.getItem("isLoggedIn")){h.push("/login");return}f&&(v(!0),C(f))},[h,f]);let C=async e=>{try{N(!0);let t=await fetch("/api/jobs/".concat(e));if(!t.ok)throw Error("Failed to fetch job details");let a=await t.json();a.datePosted&&(a.datePosted=new Date(a.datePosted)),a.expiryDate&&(a.expiryDate=new Date(a.expiryDate)),k(a)}catch(e){console.error("Error fetching job details:",e),alert("Failed to load job details for editing")}finally{N(!1)}},P=async e=>{var t,a,r,s,l;e.preventDefault();let o={"@context":"https://schema.org/","@type":"JobPosting",title:w.title,description:w.description,datePosted:w.datePosted instanceof Date?w.datePosted.toISOString():w.datePosted,validThrough:w.expiryDate instanceof Date?w.expiryDate.toISOString():w.expiryDate,employmentType:w.type,hiringOrganization:{"@type":"Organization",name:w.company,sameAs:w.companyUrl,logo:w.companyLogo},jobLocation:{"@type":"Place",address:{"@type":"PostalAddress",streetAddress:null===(t=w.location)||void 0===t?void 0:t.street,addressLocality:null===(a=w.location)||void 0===a?void 0:a.city,addressRegion:null===(r=w.location)||void 0===r?void 0:r.state,postalCode:null===(s=w.location)||void 0===s?void 0:s.zipCode,addressCountry:null===(l=w.location)||void 0===l?void 0:l.country}}};try{let e=b?"/api/jobs/".concat(f):"/api/jobs",t=await fetch(e,{method:b?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w,schema:o,datePosted:w.datePosted instanceof Date?w.datePosted.toISOString():w.datePosted,expiryDate:w.expiryDate instanceof Date?w.expiryDate.toISOString():w.expiryDate})}),a=await t.json();if(!t.ok)throw Error(a.details||a.error||"Failed to ".concat(b?"update":"post"," job"));h.push("/jobs/".concat(a._id||f))}catch(e){console.error("Error ".concat(b?"updating":"posting"," job:"),e),alert(e.message||"Failed to ".concat(b?"update":"post"," job"))}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-5 mb-10",children:[(0,r.jsx)("div",{className:"h-14 w-14 rounded-xl bg-red-50/80 flex items-center justify-center shadow-sm",children:(0,r.jsx)(o.Z,{className:"h-7 w-7 text-red-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-1",children:b?"Edit Job Posting":"Post a New Job"}),(0,r.jsx)("p",{className:"text-gray-500",children:b?"Update the details of your job listing":"Fill in the details to post your job listing"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-800 mb-1",children:"Job Details"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"All fields are required unless marked as optional"})]}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-12",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 pb-2 border-b border-gray-100",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-50/50 rounded-lg shadow-sm",children:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-blue-500"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:"Basic Information"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Job Title"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.title||"",onChange:e=>k({...w,title:e.target.value}),placeholder:"e.g., Senior Software Engineer"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.company||"",onChange:e=>k({...w,company:e.target.value}),placeholder:"e.g., Tech Company Inc."})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company Website"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"url",required:!0,className:"w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.companyUrl||"",onChange:e=>k({...w,companyUrl:e.target.value}),placeholder:"https://company.com"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Company Logo URL"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"url",required:!0,className:"w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.companyLogo||"",onChange:e=>k({...w,companyLogo:e.target.value}),placeholder:"https://company.com/logo.png"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Industry"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.industry||"",onChange:e=>k({...w,industry:e.target.value}),placeholder:"e.g., Technology, Healthcare"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Job Type"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsxs)("select",{required:!0,className:"w-full pl-11 pr-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200 appearance-none",value:w.type,onChange:e=>k({...w,type:e.target.value}),children:[(0,r.jsx)("option",{value:"Full Time",children:"Full Time"}),(0,r.jsx)("option",{value:"Part Time",children:"Part Time"}),(0,r.jsx)("option",{value:"Contract",children:"Contract"}),(0,r.jsx)("option",{value:"Internship",children:"Internship"})]})]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 pb-2 border-b border-gray-100",children:[(0,r.jsx)("div",{className:"p-2 bg-green-50/50 rounded-lg shadow-sm",children:(0,r.jsx)(g.Z,{className:"w-5 h-5 text-green-500"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:"Location Information"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(e=w.location)||void 0===e?void 0:e.street)||"",onChange:e=>k({...w,location:{...w.location,street:e.target.value}}),placeholder:"e.g., 123 Main St"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(t=w.location)||void 0===t?void 0:t.city)||"",onChange:e=>k({...w,location:{...w.location,city:e.target.value}}),placeholder:"e.g., San Francisco"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(a=w.location)||void 0===a?void 0:a.state)||"",onChange:e=>k({...w,location:{...w.location,state:e.target.value}}),placeholder:"e.g., CA"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"ZIP Code"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(p=w.location)||void 0===p?void 0:p.zipCode)||"",onChange:e=>k({...w,location:{...w.location,zipCode:e.target.value}}),placeholder:"e.g., 94105"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(m=w.location)||void 0===m?void 0:m.country)||"",onChange:e=>k({...w,location:{...w.location,country:e.target.value}}),placeholder:"e.g., United States"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 pb-2 border-b border-gray-100",children:[(0,r.jsx)("div",{className:"p-2 bg-purple-50/50 rounded-lg shadow-sm",children:(0,r.jsx)(c.Z,{className:"w-5 h-5 text-purple-500"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:"Job Description"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.description||"",onChange:e=>k({...w,description:e.target.value}),placeholder:"Describe the role and responsibilities..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Responsibilities"}),(0,r.jsx)("textarea",{required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(y=w.responsibilities)||void 0===y?void 0:y.join("\n"))||"",onChange:e=>k({...w,responsibilities:e.target.value.split("\n").filter(e=>e.trim())}),placeholder:"Enter each responsibility on a new line..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Qualifications"}),(0,r.jsx)("textarea",{required:!0,rows:4,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:(null===(x=w.qualifications)||void 0===x?void 0:x.join("\n"))||"",onChange:e=>k({...w,qualifications:e.target.value.split("\n").filter(e=>e.trim())}),placeholder:"Enter each qualification on a new line..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Education"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.education||"",onChange:e=>k({...w,education:e.target.value}),placeholder:"e.g., Bachelor's Degree"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Experience"}),(0,r.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-200",value:w.experience||"",onChange:e=>k({...w,experience:e.target.value}),placeholder:"e.g., 5+ years"})]})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end pt-6",children:(0,r.jsx)("button",{type:"submit",className:"px-8 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 font-medium shadow-sm hover:shadow-md",children:"Post Job"})})]})]})}function m(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}),children:(0,r.jsx)(p,{})})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=2458)}),_N_E=e.O()}]);