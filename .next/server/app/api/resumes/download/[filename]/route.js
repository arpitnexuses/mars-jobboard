"use strict";(()=>{var e={};e.id=49,e.ids=[49],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3292:e=>{e.exports=require("fs/promises")},1017:e=>{e.exports=require("path")},4985:(e,r,a)=>{a.r(r),a.d(r,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>w});var o={};a.r(o),a.d(o,{GET:()=>p});var t=a(5419),n=a(9108),s=a(9678),i=a(8070),u=a(3292),d=a(1017);async function p(e,{params:r}){try{let e=(0,d.join)(process.cwd(),"public","uploads","resumes"),a=(0,d.join)(e,r.filename),o=await (0,u.readFile)(a),t=r.filename.split("-").slice(1).join("-");return new i.Z(o,{headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="${t}"`}})}catch(e){return console.error("Error downloading resume:",e),i.Z.json({error:"Failed to download resume"},{status:500})}}let l=new t.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/resumes/download/[filename]/route",pathname:"/api/resumes/download/[filename]",filename:"route",bundlePath:"app/api/resumes/download/[filename]/route"},resolvedPagePath:"/Users/arpitmishra012/mars-jobboard/src/app/api/resumes/download/[filename]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:c,serverHooks:f,headerHooks:h,staticGenerationBailout:w}=l,v="/api/resumes/download/[filename]/route";function x(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:c})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),o=r.X(0,[638,206],()=>a(4985));module.exports=o})();